
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Christopher Barber">
      
      
        <link rel="canonical" href="https://zuzukin.github.io/whl2conda/stable/guide/renaming.html">
      
      
        <link rel="prev" href="basic-usage.html">
      
      
        <link rel="next" href="pyproject.html">
      
      
      <link rel="icon" href="../whl2conda.jpg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>Dependency Modification - whl2conda</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
        <script src="https://unpkg.com/iframe-worker/shim"></script>
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="whl2conda" class="md-header__button md-logo" aria-label="whl2conda" data-md-component="logo">
      
  <img src="../whl2conda.jpg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            whl2conda
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Dependency Modification
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="white" data-md-color-accent="orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/analog-cbarber/whl2conda" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="basic-usage.html" class="md-tabs__link">
          
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../install.html" class="md-tabs__link">
        
  
    
  
  Installation

      </a>
    </li>
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../reference/cli/whl2conda.html" class="md-tabs__link">
          
  
  Reference

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../about/support.html" class="md-tabs__link">
          
  
  About

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="whl2conda" class="md-nav__button md-logo" aria-label="whl2conda" data-md-component="logo">
      
  <img src="../whl2conda.jpg" alt="logo">

    </a>
    whl2conda
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/analog-cbarber/whl2conda" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="basic-usage.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic Usage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Dependency Modification
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="renaming.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Dependency Modification
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#standard-renames" class="md-nav__link">
    <span class="md-ellipsis">
      Standard renames
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manual-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Manual rules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Manual rules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-extra-packages" class="md-nav__link">
    <span class="md-ellipsis">
      Adding extra packages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dropping-a-package" class="md-nav__link">
    <span class="md-ellipsis">
      Dropping a package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#renaming-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Renaming dependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#renaming-converted-package" class="md-nav__link">
    <span class="md-ellipsis">
      Renaming converted package
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#specifying-rules-in-pyprojecttoml-file" class="md-nav__link">
    <span class="md-ellipsis">
      Specifying rules in pyproject.toml file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hiding-pip-dependencies-in-dist-info-directory-for-conda" class="md-nav__link">
    <span class="md-ellipsis">
      Hiding pip dependencies in dist-info directory for conda
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="pyproject.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuring pyproject.toml
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="testing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing and Testing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="limitations.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Limitations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../install.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Command line
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Command line
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/cli/whl2conda.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    whl2conda
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/cli/whl2conda-build.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    whl2conda build
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/cli/whl2conda-config.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    whl2conda config
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/cli/whl2conda-convert.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    whl2conda convert
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/cli/whl2conda-diff.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    whl2conda diff
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/cli/whl2conda-install.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    whl2conda install
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API (<i>not stable!</i>)
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            API (<i>not stable!</i>)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/api/converter.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    whl2conda.api.converter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/api/stdrename.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    whl2conda.api.stdrename
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/api/settings.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    whl2conda.settings
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/links.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reference Material
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    About
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/support.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting help
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/changelog.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release notes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/license.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#standard-renames" class="md-nav__link">
    <span class="md-ellipsis">
      Standard renames
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manual-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Manual rules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Manual rules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-extra-packages" class="md-nav__link">
    <span class="md-ellipsis">
      Adding extra packages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dropping-a-package" class="md-nav__link">
    <span class="md-ellipsis">
      Dropping a package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#renaming-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Renaming dependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#renaming-converted-package" class="md-nav__link">
    <span class="md-ellipsis">
      Renaming converted package
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#specifying-rules-in-pyprojecttoml-file" class="md-nav__link">
    <span class="md-ellipsis">
      Specifying rules in pyproject.toml file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hiding-pip-dependencies-in-dist-info-directory-for-conda" class="md-nav__link">
    <span class="md-ellipsis">
      Hiding pip dependencies in dist-info directory for conda
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Dependency Modification</h1>

<h2 id="overview">Overview</h2>
<p>Python packages found on <a href="https://pypi.org">pypi.org</a> and installed using <a href="https://pip.pypa.io/en/stable/cli/pip_install/">pip</a>
often have the same name as packages found on <a href="https://anaconda.org/">anaconda.org</a> and installed
using <a href="https://docs.conda.io/projects/conda/en/latest/index.html">conda</a>. For instance, you can install <code>pylint</code> using:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">pip</label><label for="__tabbed_1_2">conda</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>pylint
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>pylint
</code></pre></div>
</div>
</div>
</div>
<p>However, pip and conda use totally separate packaging systems and there
is no inherent requirement that package names match between the two, and 
indeed there are quite a few exceptions, for example:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">pip</label><label for="__tabbed_2_2">conda</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>numpy-quaternion<span class="w"> </span>
$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>tables
$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>torch
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>quaternion<span class="w"> </span>
$<span class="w"> </span>conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>pytables
$<span class="w"> </span>conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>pytorch
</code></pre></div>
</div>
</div>
</div>
<p>So when converting from wheels to conda packages, it is important that
these differences be handled by the tool.</p>
<h2 id="standard-renames">Standard renames</h2>
<p>The <em>whl2conda</em> tool maintains a table of automatic renaming rules that
is taken from mappings collected automatically from tools supporting the
public <a href="https://conda-forge.org">conda-forge</a> repository. <em>whl2conda</em> includes a static copy of
this table collated when the <em>whl2conda</em> package was built, but also 
supports the ability to maintain and update a locally cached copy dynamically. If
there is package new to <a href="https://conda-forge.org">conda-forge</a> that may have appeared since installing
<em>whl2conda</em>, you can update your local cache using:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>whl2conda<span class="w"> </span>--update-std-renames
</code></pre></div>
<p>You can also configure whl2conda to automatically update the standard rename
mappings prior to operations that require via a persistent user setting:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>whl2conda<span class="w"> </span>config<span class="w"> </span>--set<span class="w"> </span>auto-update-std-renames<span class="w"> </span><span class="nb">true</span>
</code></pre></div>
<p>The cache file is kept in a location in your user directory that is specific 
to your operating system:</p>
<ul>
<li>Linux: <code>~/.cache/whl2conda/stdrename.json</code></li>
<li>MacOS: <code>~/Library/Caches/whl2conda/stdrename.json</code></li>
<li>Windows: <code>~\AppData\Local\whl2conda\Cache\stdrename.json</code></li>
</ul>
<p>This file is simply a JSON dictionary mapping pypi names to conda names.</p>
<p>If you want to generate a copy of this file in another location (e.g.
for use by other development tools), you can add a path to the
<code>---update-std-renames</code> option:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>whl2conda<span class="w"> </span>--update-std-renames<span class="w"> </span>pypi-conda-renames.json
</code></pre></div>
<h2 id="manual-rules">Manual rules</h2>
<p>The implicit standard renaming support takes care of most renaming
issues for publicly available packages, but may not work for packages
that come from alternative channels, which may be private to your
organization.</p>
<p>If you encounter these, you can add command line options to with
<code>whl2conda convert</code> to rename packages and also to add or drop
packages. You may also rename the package you are building.</p>
<h3 id="adding-extra-packages">Adding extra packages</h3>
<p>You can add one or more extra package dependencies using the <code>-A</code> / <code>--add-depencency</code>
option. This can be a conda package name and version spec, e.g.:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>whl2conda<span class="w"> </span>convert<span class="w"> </span>-A<span class="w"> </span><span class="s1">&#39;extra-package &gt;=1.2.3&#39;</span><span class="w"> </span>...
</code></pre></div>
<p>You can use this to add dependencies for conda packages that perhaps
do not exist on pypi.</p>
<h3 id="dropping-a-package">Dropping a package</h3>
<p>Likewise, you can drop packages using <code>-D</code> / <code>--drop-dependency</code> with
just the package name:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>whl2conda<span class="w"> </span>convert<span class="w"> </span>-D<span class="w"> </span><span class="s1">&#39;some-pypi-only-package&#39;</span>
</code></pre></div>
<p>This option also allows you to use <a href="https://docs.python.org/3/library/re.html">python regular expressions</a> to
drop any package that matches a pattern:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>whl2conda<span class="w"> </span>convert<span class="w"> </span>-D<span class="w"> </span><span class="s1">&#39;acme-.*&#39;</span>
</code></pre></div>
<h3 id="renaming-dependencies"><a name="manual-rename">Renaming dependencies</a></h3>
<p>To rename dependencies, use <code>-R</code> / <code>--dependency-rename</code> with two
arguments, the pypi name followed by the conda name. 
You can also use regular expressions with capture groups, where
<code>$&lt;n&gt;</code> will be replaced with the nth capture and <code>${name}</code> will
be replaced with the named capture group with given name.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:3"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">plain</label><label for="__tabbed_3_2">regular expression</label><label for="__tabbed_3_3">named regular expression</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>whl2conda<span class="w"> </span>convert<span class="w"> </span>-R<span class="w"> </span>acme-widgets<span class="w"> </span>acme.widgets
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>$ whl2conda convert -R &#39;acme-(.*)&#39; &#39;acme.$1&#39;
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>$ whl2conda convert -R &#39;acme-(?P&lt;part&gt;.*)&#39; &#39;acme.${part}&#39;
</code></pre></div>
</div>
</div>
</div>
<h3 id="renaming-converted-package">Renaming converted package</h3>
<p>By default, the name of the generated conda package will be taken
from the project name in the <code>pyproject.toml</code> if there is one,
otherwise from the name in the wheel. This can be overriden
using the <code>--name</code> command line option:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>whl2conda<span class="w"> </span>convert<span class="w"> </span>acme-widgets-1.2.3-py3-None-any.whl<span class="w"> </span>--name<span class="w"> </span>acme-pywidgets
</code></pre></div>
<h2 id="specifying-rules-in-pyprojecttoml-file">Specifying rules in pyproject.toml file</h2>
<p>If you are using a <code>pyproject.toml</code> file for your project, you can
instead specify how dependencies are modified in the tool options.
This is described in the <a href="pyproject.html">next section</a>.</p>
<h2 id="hiding-pip-dependencies-in-dist-info-directory-for-conda"><a name="hide-pip">Hiding pip dependencies in dist-info directory for conda</a></h2>
<p>The standard method of building python conda package involves
running <code>pip install</code> or the equivalent, which results in a
the package's original pip dependencies and other metadata
being saved to the <code>METADATA</code> file in the package's <code>.dist-info</code>
directory in <code>site-packages/</code> for the environment in which it
is installed. However, in a conda environment, these dependencies
may seem to be incompatible with what is actually installed by conda.
This can sometimes cause serious problems if pip or other standard 
python packaging tools attempt to check or update these dependencies.</p>
<p>Since the actual dependencies for packages installed by conda
are described by the conda package's metadata, and not the metadata
saved in the <code>.dist-info</code>, <em>whl2conda</em> by default will turn all
regular dependencies in the dist-info into extra dependencies using 
the name <code>original</code>. So if you look at the <code>METADATA</code> file in the 
dist-info of the generated conda package, you will see entries like:</p>
<div class="highlight"><pre><span></span><code><span class="nt">Requires-Dist:</span><span class="w"> </span>some-package<span class="w"> </span>&gt;=1.2;<span class="w"> </span>extra<span class="w"> </span>==<span class="w"> </span>&#39;original&#39;
</code></pre></div>
<p>If you want to leave these dependencies unchanged you can use the
<code>--keep-pip-dependencies</code> option to <code>whl2conda convert</code>. This is 
not recommended unless you know that you need them.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 Christopher Barber
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.expand", "navigation.top", "search.suggest", "search.highlight"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "stable", "provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>